<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Hierarchy test</title>
		<script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.js"></script>
		<script type="text/javascript" src="jquery.hierarchy.js"></script>
	</head>
	<body>
		<textarea rows="15" cols="50" id="hierarchy-settings">{
  "legend": {
    "title": "Hello",
    "show_title": "true",
    "width": "10"
  },
  "type": "bar",
  "xAxis": [
    {
      "title":"Hello"
    },
    {
      "title":"World"
    }
  ]
}</textarea><br>
		<button id="do-plugin">Activate plugin!</button>
		<script type="text/javascript">
		var chart_schema = {
			"_children":{
				"type": {
					"_type":"select",
					"_options":["column","bar","pie"],
					"_label":"Type",
					"_default_value":"column"
				},
				"other_type": {
					"_type":"select",
					"_options":{"column":"Hippo","bar":"Lion","pie":"Cat"},
					"_label":"Other type"
				},
				"legend": {
					"_type":"object",
					"_label":"Legend",
					"_children":{
						"title":{
							"_type":"text"
						},
						"show_title":{
							"_type":"bool"
						},
						"width":{
							"_type":"number"
						},
						"date":{
							"_type":"date"
						}
					}
				},
				"xAxis": {
					"_type":"object",
					"_children":{
						"title":{
							"_type":"text"
						}
					}
				}
			}
		}
		
		$( document ).ready(function() {
			$('#do-plugin').on('click', function(ev){
				ev.preventDefault();
				$('#hierarchy-settings').hierarchySettings( chart_schema, {showOriginalTextarea: true} );
				$('#hierarchy-settings').attr("readonly", true);
				$(this).remove();
			});
		});
		
		</script>
	</body>
</html>